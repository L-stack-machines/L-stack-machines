<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../">Project Page</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="LM.Prelims.html#"><span class="id" title="library">Prelims</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab11"></a><h1 class="section">Machines and Refinements</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="label"><span class="id" title="inductive">label</span></a> := <a name="a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a> | <a name="dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="constructor">β</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">τ</span></a><a name="a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">β_rel</span></a> <span class="id" title="var">A</span> := <a class="idref" href="LM.Refinements.html#label"><span class="id" title="inductive">label</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="any"><span class="id" title="definition">any</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">R</span>:<a class="idref" href="LM.Refinements.html#a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">τ</span></a><a class="idref" href="LM.Refinements.html#a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">β_rel</span></a> <a class="idref" href="LM.Refinements.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<a class="idref" href="LM.Refinements.html#A"><span class="id" title="variable">A</span></a>) := <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="LM.Refinements.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Refinements.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="LM.Refinements.html#any"><span class="id" title="definition">any</span></a>.<br/>

<br/>
<span class="id" title="keyword">Structure</span> <a name="Machine"><span class="id" title="record">Machine</span></a> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="M_A"><span class="id" title="projection">M_A</span></a> :&gt; <span class="id" title="keyword">Type</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="M_rel"><span class="id" title="projection">M_rel</span></a> : <a class="idref" href="LM.Refinements.html#a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">τ</span></a><a class="idref" href="LM.Refinements.html#a01d94fd1dcc225b524db503668dd5d6"><span class="id" title="definition">β_rel</span></a> <a class="idref" href="LM.Refinements.html#M_A"><span class="id" title="method">M_A</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "(≻τ)" := (@<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <span class="id" title="var">_</span> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "a  '≻τ'  a'" := (@<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <span class="id" title="var">_</span> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Notation</span> "a  '≻β'  a'" := (@<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <span class="id" title="var">_</span> <a class="idref" href="LM.Refinements.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="constructor">β</span></a> <span class="id" title="var">a</span> <span class="id" title="var">a'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
<span class="comment">(*Definition&nbsp;M_any&nbsp;(A&nbsp;:&nbsp;Machine)&nbsp;(a&nbsp;a'&nbsp;:&nbsp;A)&nbsp;:=&nbsp;(a&nbsp;≻τ&nbsp;a'&nbsp;\/&nbsp;a&nbsp;≻β&nbsp;a').*)</span><br/>

<br/>
<span class="id" title="keyword">Canonical</span> <span class="id" title="keyword">Structure</span> <span class="id" title="var">Machine_ARS</span> (<span class="id" title="var">A</span> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>) : <a class="idref" href="LM.Prelims.html#ARS"><span class="id" title="record">ARS</span></a> :=<br/>
&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">ARS_X</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">:=</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">A</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">ARS_R</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">:=</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">any</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">(@</span></a><a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">M_rel</span></a> <a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">A</span></a><a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">)</span></a><br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="LM.Refinements.html#Machine_ARS"><span class="id" title="definition">Machine_ARS</span></a> : <span class="id" title="var">Machine</span> &gt;-&gt; <span class="id" title="var">ARS</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="absSim"><span class="id" title="section">absSim</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="absSim.refine_ARS"><span class="id" title="section">refine_ARS</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_ARS.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="LM.Prelims.html#ARS"><span class="id" title="record">ARS</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_ARS.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_ARS.refines"><span class="id" title="variable">refines</span></a>: <a class="idref" href="LM.Refinements.html#absSim.refine_ARS.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.refine_ARS.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">&quot;</span></a>a  ≫  x" := (<a class="idref" href="LM.Refinements.html#absSim.refine_ARS.refines"><span class="id" title="variable">refines</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="refinement_ARS"><span class="id" title="definition">refinement_ARS</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="LM.Prelims.html#dc49db43535885f720f8f4e03ab0f0c0"><span class="id" title="notation">(≻)</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="LM.Prelims.html#dc49db43535885f720f8f4e03ab0f0c0"><span class="id" title="notation">(≻)</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">x</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#0942d469d3043839261e84acdaf6e7c6"><span class="id" title="notation">≻τ</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">x</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">≻</span></a><a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">β</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Prelims.html#61815f08fb69a17a31e545815eaea98b"><span class="id" title="notation">≻</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#6d18065c77102d758accff6d812a5ee3"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#terminatesOn"><span class="id" title="inductive">terminatesOn</span></a> <a class="idref" href="LM.Refinements.html#43c0fe8b247443ad8b7f601b930ddfda"><span class="id" title="notation">(≻τ)</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim.refine_ARS"><span class="id" title="section">refine_ARS</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="absSim.assume_refine"><span class="id" title="section">assume_refine</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.X"><span class="id" title="variable">X</span></a> : <a class="idref" href="LM.Prelims.html#ARS"><span class="id" title="record">ARS</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="b0ac85466c85fd5bad8e634b1a1144a3"><span class="id" title="notation">&quot;</span></a>a  ▷τ  a'" := (@<a class="idref" href="LM.Prelims.html#evaluates"><span class="id" title="inductive">evaluates</span></a> (<a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">Build_ARS</span></a> (<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>)) <span class="id" title="var">a</span> <span class="id" title="var">a'</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.refines"><span class="id" title="variable">refines</span></a>: <a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">&quot;</span></a>a  ≫  x" := (<a class="idref" href="LM.Refinements.html#absSim.assume_refine.refines"><span class="id" title="variable">refines</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> : <a class="idref" href="LM.Refinements.html#refinement_ARS"><span class="id" title="definition">refinement_ARS</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refines"><span class="id" title="variable">refines</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="absSim.assume_refine.Correctness"><span class="id" title="section">Correctness</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> : <a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a>. <span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> : <a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="absSim.assume_refine.Correctness.H"><span class="id" title="variable">H</span></a> : <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="upSim"><span class="id" title="lemma">upSim</span></a> <span class="id" title="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">eauto</span> 9  <span class="id" title="keyword">using</span> <a class="idref" href="LM.Prelims.html#evaluates"><span class="id" title="inductive">evaluates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">eva</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">eva</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">a''</span> [ [] <span class="id" title="var">H0</span> ]] <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>, <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *. 1-2:<span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">using</span> <a class="idref" href="LM.Prelims.html#evaluates"><span class="id" title="inductive">evaluates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">R3</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.H"><span class="id" title="variable">H</span></a> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <span class="id" title="var">IHeva</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?)...<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="rightValue"><span class="id" title="lemma">rightValue</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">x'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unique&nbsp;normal&nbsp;forms&nbsp;for&nbsp;X&nbsp;would&nbsp;also&nbsp;suffice&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#functional"><span class="id" title="definition">functional</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refines"><span class="id" title="variable">refines</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (? &amp; <span class="id" title="var">Href1</span> &amp; ?) % <a class="idref" href="LM.Refinements.html#upSim"><span class="id" title="lemma">upSim</span></a> <span class="id" title="var">Href2</span> <span class="id" title="var">FN</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<span class="id" title="var">FN</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Href2</span> <span class="id" title="var">Href1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="termination_propagates"><span class="id" title="lemma">termination_propagates</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Prelims.html#terminatesOn"><span class="id" title="inductive">terminatesOn</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#terminatesOn"><span class="id" title="inductive">terminatesOn</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">N</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">N</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">x</span> <span class="id" title="keyword">wf</span> <span class="id" title="var">H0</span>] <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">H</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<span class="id" title="var">R4</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a'</span> [ [] <span class="id" title="var">Hstep</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">R3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="evaluation_propagates"><span class="id" title="lemma">evaluation_propagates</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Prelims.html#terminatesOn"><span class="id" title="inductive">terminatesOn</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#computable"><span class="id" title="definition">computable</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span>:<a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">),</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hter</span> <span class="id" title="var">C</span>. <span class="id" title="tactic">specialize</span> <span class="id" title="var">Hter</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hter</span>  % <a class="idref" href="LM.Refinements.html#termination_propagates"><span class="id" title="lemma">termination_propagates</span></a> % <a class="idref" href="LM.Prelims.html#terminates_normalizes"><span class="id" title="lemma">terminates_normalizes</span></a>. <span class="id" title="var">all</span>:  <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="LM.Prelims.html#evaluates"><span class="id" title="inductive">evaluates</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="tau_evaluates_evaluates"><span class="id" title="lemma">tau_evaluates_evaluates</span></a> <span class="id" title="var">a'</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">~</span></a> <a class="idref" href="LM.Prelims.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#b0ac85466c85fd5bad8e634b1a1144a3"><span class="id" title="notation">▷τ</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>). <span class="id" title="tactic">induction</span> 1 <span class="id" title="keyword">as</span> [<span class="id" title="var">a</span> |] <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>, <span class="id" title="var">H</span>, <span class="id" title="var">H2</span> ; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">intros</span> (? &amp; [] &amp; ?). <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">R3</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.H"><span class="id" title="variable">H</span></a> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="evaluates_tau"><span class="id" title="lemma">evaluates_tau</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">a''</span> : <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#b0ac85466c85fd5bad8e634b1a1144a3"><span class="id" title="notation">▷τ</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><a class="idref" href="LM.Prelims.html#evaluates"><span class="id" title="inductive">evaluates</span></a> (<span class="id" title="var">X</span> := <a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#a''"><span class="id" title="variable">a''</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness.a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a''"><span class="id" title="variable">a''</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">a''</span>, <span class="id" title="var">H</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHevaluates</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.Correctness"><span class="id" title="section">Correctness</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="absSim.assume_refine.top_down"><span class="id" title="section">top_down</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.top_down.FN"><span class="id" title="variable">FN</span></a> :<a class="idref" href="LM.Prelims.html#functional"><span class="id" title="definition">functional</span></a> <a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">(≻</span></a><a class="idref" href="LM.Refinements.html#absSim.assume_refine.X"><span class="id" title="variable">X</span></a><a class="idref" href="LM.Prelims.html#654231929e43a96eea9169fe3b116f75"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.assume_refine.top_down.C"><span class="id" title="variable">C</span></a> : <a class="idref" href="LM.Prelims.html#computable"><span class="id" title="definition">computable</span></a> (<span class="id" title="var">X</span>:=<a class="idref" href="LM.Refinements.html#absSim.assume_refine.A"><span class="id" title="variable">A</span></a>) <a class="idref" href="LM.Refinements.html#43c0fe8b247443ad8b7f601b930ddfda"><span class="id" title="notation">(≻τ)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="tau_eval"><span class="id" title="lemma">tau_eval</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">a'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#b0ac85466c85fd5bad8e634b1a1144a3"><span class="id" title="notation">▷τ</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="one_downSim"><span class="id" title="lemma">one_downSim</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Prelims.html#61815f08fb69a17a31e545815eaea98b"><span class="id" title="notation">≻</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">a''</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a>  <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#b0ac85466c85fd5bad8e634b1a1144a3"><span class="id" title="notation">▷τ</span></a> <a class="idref" href="LM.Refinements.html#a''"><span class="id" title="variable">a''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#a''"><span class="id" title="variable">a''</span></a> <a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">≻</span></a><a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">β</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="LM.Prelims.html#terminates_normalizes"><span class="id" title="lemma">terminates_normalizes</span></a> (<a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">Build_ARS</span></a> (<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>)) <a class="idref" href="LM.Refinements.html#absSim.assume_refine.top_down.C"><span class="id" title="variable">C</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">R4</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">a''</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> (<span class="id" title="var">R1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="LM.Refinements.html#tau_eval"><span class="id" title="lemma">tau_eval</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H2</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> [[] <span class="id" title="var">H3</span>]]. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>, <span class="id" title="var">a''</span>. <span class="id" title="var">edestruct</span> <a class="idref" href="LM.Prelims.html#evaluates_irred"><span class="id" title="lemma">evaluates_irred</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>,<span class="id" title="var">a''</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">R3</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="LM.Refinements.html#tau_eval"><span class="id" title="lemma">tau_eval</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H2</span>) <span class="id" title="var">H3</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">x''</span> &amp; ? &amp; <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> (<a class="idref" href="LM.Refinements.html#absSim.assume_refine.top_down.FN"><span class="id" title="variable">FN</span></a> <span class="id" title="var">H1</span> <span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="downSim"><span class="id" title="lemma">downSim</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Prelims.html#79a83c678cebe5e74f9abbfe7c82814b"><span class="id" title="notation">▷</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#5340cd4b39767eef2283359a87b479a9"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#x'"><span class="id" title="variable">x'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.refinement"><span class="id" title="variable">refinement</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">R1</span> &amp; <span class="id" title="var">R2</span> &amp; <span class="id" title="var">R3</span> &amp; <span class="id" title="var">R4</span>). <span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">H</span> |- *; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *;[<span class="id" title="tactic">intros</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (@<a class="idref" href="LM.Prelims.html#terminates_normalizes"><span class="id" title="lemma">terminates_normalizes</span></a> (<a class="idref" href="LM.Prelims.html#Build_ARS"><span class="id" title="constructor">Build_ARS</span></a> (<a class="idref" href="LM.Refinements.html#M_rel"><span class="id" title="projection">M_rel</span></a> <a class="idref" href="LM.Refinements.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="constructor">τ</span></a>)) <a class="idref" href="LM.Refinements.html#absSim.assume_refine.top_down.C"><span class="id" title="variable">C</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">R4</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">a'</span> <span class="id" title="var">H2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a'</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LM.Refinements.html#tau_evaluates_evaluates"><span class="id" title="lemma">tau_evaluates_evaluates</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LM.Refinements.html#tau_eval"><span class="id" title="lemma">tau_eval</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="LM.Refinements.html#one_downSim"><span class="id" title="lemma">one_downSim</span></a> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">a'</span> &amp; <span class="id" title="var">a''</span> &amp; ? &amp; ? &amp; ?). <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHevaluates</span> <span class="id" title="var">_</span> <span class="id" title="var">H4</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">a'''</span> &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">a'''</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="LM.Refinements.html#evaluates_tau"><span class="id" title="lemma">evaluates_tau</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="LM.Refinements.html#dc5233cb1d950ecad15b1e9b2514f665"><span class="id" title="constructor">β</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine.top_down"><span class="id" title="section">top_down</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim.assume_refine"><span class="id" title="section">assume_refine</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="absSim.refine_M"><span class="id" title="section">refine_M</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_M.A"><span class="id" title="variable">A</span></a> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_M.B"><span class="id" title="variable">B</span></a> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="absSim.refine_M.refines"><span class="id" title="variable">refines</span></a>: <a class="idref" href="LM.Refinements.html#absSim.refine_M.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#absSim.refine_M.B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">&quot;</span></a>a  ≫  b" := (<a class="idref" href="LM.Refinements.html#absSim.refine_M.refines"><span class="id" title="variable">refines</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="refinement_M"><span class="id" title="definition">refinement_M</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="LM.Prelims.html#dc49db43535885f720f8f4e03ab0f0c0"><span class="id" title="notation">(≻)</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Prelims.html#reducible"><span class="id" title="definition">reducible</span></a> <a class="idref" href="LM.Prelims.html#dc49db43535885f720f8f4e03ab0f0c0"><span class="id" title="notation">(≻)</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#0942d469d3043839261e84acdaf6e7c6"><span class="id" title="notation">≻τ</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="LM.Refinements.html#0942d469d3043839261e84acdaf6e7c6"><span class="id" title="notation">≻τ</span></a> <a class="idref" href="LM.Refinements.html#b'"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">a'</span> <span class="id" title="var">b</span>, <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">≻</span></a><a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">β</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="LM.Refinements.html#2f47d1e5cba86fca8038246ed2dfecb2"><span class="id" title="notation">≫</span></a> <a class="idref" href="LM.Refinements.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">≻</span></a><a class="idref" href="LM.Refinements.html#77ff97a7ed7325feb4ec930537149ce0"><span class="id" title="notation">β</span></a> <a class="idref" href="LM.Refinements.html#b'"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim.refine_M"><span class="id" title="section">refine_M</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="composition"><span class="id" title="lemma">composition</span></a> (<span class="id" title="var">A</span> <span class="id" title="var">B</span> : <a class="idref" href="LM.Refinements.html#Machine"><span class="id" title="record">Machine</span></a>) (<span class="id" title="var">X</span> : <a class="idref" href="LM.Prelims.html#ARS"><span class="id" title="record">ARS</span></a>) (<span class="id" title="var">R</span> : <a class="idref" href="LM.Refinements.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) (<span class="id" title="var">S</span> : <a class="idref" href="LM.Refinements.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#X"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LM.Refinements.html#refinement_M"><span class="id" title="definition">refinement_M</span></a> <a class="idref" href="LM.Refinements.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#refinement_ARS"><span class="id" title="definition">refinement_ARS</span></a> <a class="idref" href="LM.Refinements.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="LM.Refinements.html#refinement_ARS"><span class="id" title="definition">refinement_ARS</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">c</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">exists</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="LM.Refinements.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="LM.Refinements.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.2/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">/\</span></a> <a class="idref" href="LM.Refinements.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="LM.Refinements.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="LM.Refinements.html#c"><span class="id" title="variable">c</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">H</span> &amp; <span class="id" title="var">H0</span> &amp; <span class="id" title="var">H1</span>) (<span class="id" title="var">H2</span> &amp; <span class="id" title="var">H3</span> &amp; <span class="id" title="var">H4</span> &amp; <span class="id" title="var">H5</span>). <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">H8</span>). <span class="id" title="tactic">destruct</span> (<span class="id" title="var">H1</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">H10</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H4</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H8</span> <span class="id" title="var">H10</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; <span class="id" title="var">H7</span>). <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H5</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">a</span>, <span class="id" title="var">H6</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">intros</span> ? <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H6</span> <span class="id" title="var">H7</span>) <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="LM.Refinements.html#absSim"><span class="id" title="section">absSim</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
